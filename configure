#! /usr/bin/env bash
#
# Create an includable Makefile containing the paths to the tree-sitter
# installation.
#

set -eu

cat > tree-sitter-config.mk <<EOF
# Generated by ./configure
#
# Absolute paths to the tree-sitter installation folders.
# This file is meant to be included in makefiles.
#
TREESITTER_PREFIX := $(pwd)/tree-sitter
TREESITTER_BINDIR := \$(TREESITTER_PREFIX)/bin
TREESITTER_INCDIR := \$(TREESITTER_PREFIX)/include
TREESITTER_LIBDIR := \$(TREESITTER_PREFIX)/lib
PATH := \$(TREESITTER_BINDIR):\$(PATH)
export TREESITTER_PREFIX
export TREESITTER_BINDIR
export TREESITTER_INCDIR
export TREESITTER_LIBDIR
export PATH
EOF
